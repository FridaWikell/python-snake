# Snake Game - Python Edition

![Snake Game - Python Edition site on different devices](doc/amiresponsive.webp)

## Introduction

The project is all about having fun and maybe increase your reflexes. It is a way of going back in time to when Nokia 3310 was the most hightec phone at the market. 

## Table of Contents

- [Snake Game - Python Edition](#snake-game---python-edition)
  - [Introduction](#introduction)
  - [Table of Contents](#table-of-contents)
  - [User Experience](#user-experience)
    - [User Stories](#user-stories)
      - [User Goals](#user-goals)
      - [Site Owner Goals](#site-owner-goals)
  - [Design](#design)
    - [Color Scheme](#color-scheme)
    - [Typography](#typography)
    - [Imagery](#imagery)
    - [Wireframes](#wireframes)
    - [Flowcharts](#flowcharts)
  - [Features](#features)
    - [Outside the terminal](#outside-the-terminal)
      - [Run program button](#run-program-button)
      - [Keyboard](#keyboard)
    - [Start page](#start-page)
      - [Start snake](#start-snake)
      - [Start menu](#start-menu)
    - [Rules page](#rules-page)
      - [Rules](#rules)
      - [Go back options](#go-back-options)
    - [Highscore page - top ten](#highscore-page---top-ten)
      - [Progress bar](#progress-bar)
      - [Highscore top ten](#highscore-top-ten)
    - [Get ready page](#get-ready-page)
      - [Enter name](#enter-name)
      - [Are you ready?](#are-you-ready)
    - [Game page](#game-page)
      - [Game area](#game-area)
      - [Live score](#live-score)
    - [Highscore page - top five](#highscore-page---top-five)
      - [Progress bar](#progress-bar-1)
      - [Score text](#score-text)
      - [Highscore top five](#highscore-top-five)
      - [Play again?](#play-again)
    - [Goodbye page](#goodbye-page)
  - [Features to be Added](#features-to-be-added)
  - [Testing](#testing)
    - [Validation of Code](#validation-of-code)
    - [Lighthouse](#lighthouse)
    - [Wave Webaim](#wave-webaim)
    - [Contrast Grid](#contrast-grid)
    - [Manual Testing](#manual-testing)
      - [Start page](#start-page-1)
      - [Rules page](#rules-page-1)
      - [Highscore page - top ten](#highscore-page---top-ten-1)
      - [Get ready page](#get-ready-page-1)
      - [Game page](#game-page-1)
      - [Highscore page - top five](#highscore-page---top-five-1)
      - [Goodbye page](#goodbye-page-1)
    - [Bugs](#bugs)
  - [Technologies Used](#technologies-used)
  - [Deployment](#deployment)
  - [Credits](#credits)
  - [Acknowledgements](#acknowledgements)


## User Experience

### User Stories

1. As a user, I can play a game I have missed to play for several years.
2. As a user, I can challenge my friends in a game that is easy to understand.
3. As a user, I can improve my reflexes.
4. As a user, I can experience a retro feeling.
5. As a user, I can challenge myself in improving my score.

#### User Goals

The goal is to make the user have fun and a good time. Maybe experience a flashback or two back until when your biggest entertainment was to play Snake at a Nokia 3310. The goal is also to get the user to challenge itself or a friend to beat its score. Another goal is to practice the users reflexes.

#### Site Owner Goals

THe site owners goal is to provide an easy and fun place in the high technology enviroment with anvanced graphic we live in. 

## Design

### Color Scheme

The white background makes the black terminal pop out. The high contrast it's providing makes it easier to see and play the game without getting distracted.

The color at the snake is chosen to be eye-catching and pop out from the text. The colors in the button are chosen to be more neutral than the snake, since you need to look at the bottom when you are playing the game. They are green to bond to the green snake.

### Typography

The font in the terminal is not changed, to give the true retro feeling. The font in the buttom is chosen to make it easy to read.

### Imagery

The keyboard is chosen to be neutral but at the same enhance the retro feeling for the user. The retro feeling is even more enhanced thanks to it being and old Atari keyboard.

### Wireframes

![Screenshot of the wireframe of the start page](doc/wireframe-start-page.webp)

The wireframe of the start page.

![Screenshot of the wireframe of the game area](doc/wireframe-game-area.webp)

The wireframe of the game area.

### Flowcharts

![Screenshot of the flowchart of the game](doc/lucid-flowchart.webp)

The flowchart of the logic of the Snake game.

## Features

### Outside the terminal

#### Run program button

![Screenshot of the run program button](doc/button.webp)

The Run program button allows the user to restart the game whenever they want to.

#### Keyboard

![Screenshot of the keyboard](doc/keyboard-atari.webp)

The keyboard provides a retro feeling and are consistent during the entire game. 

### Start page

The first page which gives the user a welcome.

#### Start snake

![Screenshot of the start snake](doc/welcome-snake.webp)

The snake at the start page is supposed to welcome the user and present which game the user are welcome to play.

#### Start menu

![Screenshot of start menu](doc/start-menu.webp)

The start menu gives the user opportunity to select what they want to do. They get to choose from start the game, read the rules or see the highscore.

### Rules page

#### Rules

![Screenshot of the rules](doc/rules.webp)

The rules explain to the user how they are supposed to play the game.

#### Go back options

![Screenshot of the go back options](doc/rules-go-back.webp)

The user gets the option to navigate back to the start page or to start the game. This choice prevents a need to restart the game to be able to play the game.

### Highscore page - top ten

#### Progress bar

![Screenshot of progress bar](doc/loading-highscore.webp)

The progress bar let the user know that something is happening and the highscore is calculating.

#### Highscore top ten

![Screenshot of the highscore top ten](doc/top-ten-highscore.webp)

Top ten highscore is presented to motivate the user to play and beat the highscore. They may find their friend (or enemy) on the list, to know which score they have to beat!

#### Go back options

![Screenshot of the go back options](doc/rules-go-back.webp)

The user gets the option to navigate back to the start page or to start the game. This choice prevents a need to restart the game to be able to play the game.

### Get ready page

#### Enter name

![Screenshot of enter name section](doc/enter-name.webp)

The user have to enter their name to be ready for entering the highscore list.

#### Are you ready?

![Screenshot of are you ready section](doc/are-you-ready.webp)

This text allows the user to prepare themself and start the game when they are ready.

### Game page

#### Game area

![Screenshot of the game area](doc/game-area.webp)

The game area is where the magic happens. The snake moves around to collect the apples. The snake are made out of blocks and the apples are dots. They are different shapes to help the user to easier see the difference between the snake and the apple.

#### Live score

![Screenshot of the score](doc/score.webp)

The score is located at the top of the game area and is updating every time the snake eats an apple. This helps the user to keep track of their current score during the game.

### Highscore page - top five

#### Progress bar

![Screenshot of progress bar](doc/loading-highscore.webp)

The progress bar let the user know that something is happening and the highscore is calculating.

#### Score text

![Screenshot of the score text](doc/well-played.webp)

The user gets to now what score they had. They also get a motivational text depending on their score.

#### Highscore top five

![Screenshot of top five highscore](doc/top-five-highscore.webp)

Top five highscore is presented to see if the player could beat the highscore. They may find their friend (or enemy) on the list, to know which score they have to beat next time they play!

#### Play again?

![Screenshot of play again question](doc/play-again.webp)

The user gets a question if they want to play again or if they want to quit. This allows the user to play again to beat their score.

### Goodbye page

![Screenshot of goodbye text](doc/so-long.webp)

The user gets a thank you for playing and a reminder that they are always welcome back.

## Features to be Added

One feature to be added is to select which color you want the snake to have. Someone may play better with a pink snake, who knows? Some other features that could be added is that the game area will be smaller after x number of points and make it smaller and smaller until it is impossible to navigate the snake.

## Testing

### Validation of Code

![Screenshot of validation of HTML, without errors](doc/valid-html.webp)

The validation of the HTML code at [W3C Markup Validation Service](https://validator.w3.org/) resulted without errors.

![Screenshot of validation of CSS, without error](doc/valid-css.webp)

The validation of the CSS code at [W3C CSS Validation Service](https://jigsaw.w3.org/css-validator/) resulted without errors.

![Screenshot of validation of Python code, without errors](doc/python-linter.webp)

The validation of the Python code at [CI Python Linter](https://pep8ci.herokuapp.com/) resulted without errors.

### Lighthouse
You can perform a test of your website for performance, accessibility, best practices and SEO through the google chrome lighthouse test - it is in your Dev tools. Bear in mind that your internet connection speed plays a part in the performance figures obtained. Where it scores low, it will give you suggestions on how to improve the site - read the suggestions and think about how to implement them - it could be a good idea.
Do this for both Desktop and Mobile.

### Wave Webaim

![Screenshot of validation of accessibility, without errors](doc/wave-webaim.webp)

The validation of the accessibility at [Wave Webaim](https://wave.webaim.org/) resulted without errors.

### Contrast Grid

![Screenshot of contrast grid](doc/contrast-grid.webp)

The contrast test at [Contrast Grid](https://contrast-grid.eightshapes.com/?version=1.1.0&background-colors=&foreground-colors=%23FFFFFF%2C%20%20Text%0D%0A%23013220%2C%20Button%0D%0A%23000000%2C%20Terminal%0D%0A%23008000%2C%20Snake&es-color-form__tile-size=compact&es-color-form__show-contrast=aaa&es-color-form__show-contrast=aa&es-color-form__show-contrast=aa18&es-color-form__show-contrast=dnp) resulted in AAA values for all combination used in the game except for one. The combination of the black terminal background and the green ascii-snake resulted in only a AA18 value (4). Even though the bad contrast result, the combination is kept since the combination is never used to present any text.

### Manual Testing

Every page at the website has been manually tested. It is done on one laptop and one external screen:

- HP 250 G4 Notebook PC (1366 x 768)
- HP 2309v LCD Screen (1920 x 1080)

#### Start page

| Feature being tested | Expected Outcome | Testing Performed | Actual Outcome | Result (Pass or fail) |
| -------------------- | ---------------- | ----------------- | -------------- | --------------------- |
| Start menu - Play Game | Direct to get ready page | Write 'p' and press Enter <br> Write 'P' and press Enter | Got directed to get ready page | Pass |
| Start menu - Rules | Direct to rules page | Write 'r' and press Enter <br> Write 'R' and press Enter | Got directed to rules page | Pass |
| Start menu - Highscore | Direct to highscore top ten page | Write 'h' and press Enter <br> Write 'H' and press Enter | Got directed to highscore top ten page | Pass |
| Invalid input | Message of "Please make a choice; 'p', 'r', or 'h', and press Enter" appears | Write 'j' and press Enter <br>Write '3' and press Enter | Message "Please make a choice; 'p', 'r', or 'h', and press Enter" appeared | Pass |
| New input after invalid input | Reset input field to accept new try | Enter invalid input and press Enter. Enter valid input and press Enter | The entered valid input was accepted | Pass |

#### Rules page

| Feature being tested | Expected Outcome | Testing Performed | Actual Outcome | Result (Pass or fail) |
| -------------------- | ---------------- | ----------------- | -------------- | --------------------- |
| Readable rules | All rules are visible and easy to read | Read through the rules and see that all rules are included | All rules were included and visible | Pass
| Go back option - play game | Direct to get ready page | Write 'p' and press Enter<br> Write 'P' and press Enter | Got directed to get ready page | Pass |
| Go back option - start page | Direct to start page | Write 's' and press Enter<br> Write 'S' and press Enter | Got directed to start page | Pass |
| Invalid input | Message of "Please make a choice; 'p' or 's', and press Enter" appears | Write 'j' and press Enter <br>Write '7' and press Enter | Message "Please make a choice; 'p' or 's', and press Enter" appeared | Pass |
| New input after invalid input | Reset input field to accept new try | Enter invalid input and press Enter. Enter valid input and press Enter | The entered valid input was accepted | Pass |

#### Highscore page - top ten

| Feature being tested | Expected Outcome | Testing Performed | Actual Outcome | Result (Pass or fail) |
| -------------------- | ---------------- | ----------------- | -------------- | --------------------- |
| Correct highscore | Highest score at the top | Compare highscore in Snake game to Google spreadsheet which contains the highscore | The highscore in the Snake toplist and in the Google spreadsheet matches | Pass |
| Go back option - play game | Direct to get ready page | Write 'p' and press Enter<br> Write 'P' and press Enter | Got directed to get ready page | Pass |
| Go back option - start page | Direct to start page | Write 's' and press Enter<br> Write 'S' and press Enter | Got directed to start page | Pass |
| Invalid input | Message of "Please make a choice; 'p' or 's', and press Enter" appears | Write 'b' and press Enter <br>Write '4' and press Enter | Message "Please make a choice; 'p' or 's', and press Enter" appeared | Pass |
| New input after invalid input | Reset input field to accept new try | Enter invalid input and press Enter. Enter valid input and press Enter | The entered valid input was accepted | Pass |

#### Get ready page

| Feature being tested | Expected Outcome | Testing Performed | Actual Outcome | Result (Pass or fail) |
| -------------------- | ---------------- | ----------------- | -------------- | --------------------- |
| Validate input | Accept 3-13 letters | Enter 'Frida' | Input accepted | Pass |
| Invalid input | Message 'Your name should be between 3 and 13 letters. Please try again.' appears | Write 'gg' and press Enter <br>Write 'gg55' and press Enter | Message 'Your name should be between 3 and 13 letters. Please try again.' appeared | Pass |
| New input after invalid input | Reset input field to accept new try | Enter invalid input and press Enter. Enter valid input and press Enter | The entered valid input was accepted | Pass |
| Response | Entered name are presented in the text | Enter a valid input, 'Frida' | Entered name are presented | Pass |
| Uppercase at first letter in response | Present name with uppercase at first letter | Enter 'frida' | Entered name presented with uppercase at first letter, 'Frida' | Pass |
| Direct to next page | Direct to game page when enter is pressed | Press Enter | Got directed to game page | Pass |

#### Game page

| Feature being tested | Expected Outcome | Testing Performed | Actual Outcome | Result (Pass or fail) |
| -------------------- | ---------------- | ----------------- | -------------- | --------------------- |
| Live score | Score increases with 1 point when an eating an apple | Make the snake eat an apple | Score increases by 1 when an apple is eaten | Pass |
| Eaten by itself | Game over when the snakes head crashes into its body | Direct the snakes head into its body | Game over | Pass |
| No 180 degrees turn | Game over when you make a 180 degrees turn | Make a 180 degrees turn (left when the snake is going to the right) | Game over | Pass |
| Snake growth | Snake grows with one square when an apple is eaten | Let the snake eat one apple | Snake grows with one square | Pass |
| Death by crashing | Game over when the snake crashes into whe walls | Navigate into the wall | Game over | Pass | 
| New apple | A new apple is placed in the game area when an apple is eaten | Eat an apple with the snake | A new apple is placed in the game area | Pass |

#### Highscore page - top five

| Feature being tested | Expected Outcome | Testing Performed | Actual Outcome | Result (Pass or fail) |
| -------------------- | ---------------- | ----------------- | -------------- | --------------------- |
| Correct highscore | Highest score at the top | Compare highscore in Snake game to Google spreadsheet which contains the highscore | The highscore in the Snake toplist and in the Google spreadsheet matches | Pass |
| Different response | Different response message depending on score | Get different score and look at the response | Different messages were presented | Pass |
| Validate input | Only 'yes' and 'no' (with some variations) are accepted | Write 'y' and press Enter <br>Write 'n' and press Enter | Answers were valid | Pass |
| Invalid input | Invalid input will present the message 'Please answer 'yes' or 'no'' | Write 'h' and press Enter | Message 'Please answer yes or no' was presented | Pass |
| New input after invalid input | Reset input field to accept new try | Enter invalid input and press Enter. Enter valid input and press Enter | The entered valid input was accepted | Pass |
| Direct to get ready page | When 'yes' is entered, direct to get ready page | Write 'yes' and press at Enter | Got directed to get ready page | Pass |
| Direct to goodbye page | When 'no' is entered, direct to goodbye page | Write 'no' and press Enter | Got directed to goodbye page | Pass |

#### Goodbye page

| Feature being tested | Expected Outcome | Testing Performed | Actual Outcome | Result (Pass or fail) |
| -------------------- | ---------------- | ----------------- | -------------- | --------------------- |
| Readable text | The text is visible and easy to read | Read through the text | The text was readable | Pass |

### Bugs

During testing and developing several bugs were discovered.

When the [Contrast Grid](#contrast-grid) was made, an AA value was raised at the "run program" button. The colors at the button and the border of the button was inverted, an AAA value was then conquered.

During the validation at the Python Linter, several errors were found. Most of them were "trailing whitespace" but also several "line too long" occured. Some other errors were "blank lines contain whitespace", "missing whitespace araound operator", "missing whitespace after ','" and "too many blanklines". These errors were fixed.

During one game session it was discovered that you could "eat" the border lines with the snake. This was fixed by redraw the border lines every game loop. It was also noticed tat the snake left some thin lines when it moved from right to left. This was fixed by refreshing the game area every game loop.

None found bugs were left unfixed.

## Technologies Used

The code language used were Python, CSS, and HTML. The main code is written in Python. The repository is created at [GitHub](https://github.com/), the code is written in VS Code and it is deployed at [Heroku](https://dashboard.heroku.com/apps).

The flowchart is made at [Lucid](https://lucid.app/). The wireframes are made at [Figma](https://www.figma.com/).

Some different libraries/modules was used.

| Library/module | Used for |
| --------------- | -------------------------- |
| Gspread | Open spreadsheet, read and write cells. This is used for managing the highscore |
| Google.oauth2.service_account | Service account to managing the highscore |
| OS | For handeling to clear screen for Windows, Mac and Linux systems |
| Curses | Screen-painting to create the game area |
| Cursor | To show and hide the cursor when curses isn't used |
| RegEx | Used to validate inputs |
| Rich | Makes the text prettier in form of example colors, tables and padding |

## Deployment

The site was deployed at Heroku by doing the following steps.

- Open Heroku and log in
- Click on "New" and choose the option "Create new app"
- Choose an appname and which region (Europe or United States) you are located in
- Press "Create app"
- When the app is created, choose the Settings tab
- Under "Config Vars", press "Reveal Config Vars"
- In keys, write CREDS
- In value, insert the code from the creds.json file
- Press "Add"
- In keys, write PORT
- In value, write 8000
- Press "Add"
- Under "Buildpacks", press "Add buildpack"
- Choose "Python, press "Add buildpack"
- Choose "Nodejs", press "Add buildpack"
- Change tab to the Deploy tab
- Choose deploy method - GitHub
- Search for the correct repository name at your connected GitHub account
- Press "Connect"
- Under "Manual deploy", choose which branch to deploy and press "Deploy Branch"

Link to the website <https://python-snake-57da97dc4eec.herokuapp.com/>

## Credits

The snake favicon is from [Favicon](https://favicon.io/emoji-favicons/snake). The keyboard image is a free image from [Pixabay](https://pixabay.com/). It is resized at [ResizePixel](https://www.resizepixel.com/). The favicon, the image at the site and the images in the README are converted to webp at [Convertio](https://convertio.co/) and [Pixelied](https://pixelied.com/) and compressed at [Tinify](https://tinypng.com/). The Ascii snake is based at the snake from [Asciiart](https://asciiart.cc/view/11831). The ascii text is generated at [ascii-generator](https://ascii-generator.site/t/) with the font "amc3line". The Unicode characters for the [apple](https://www.compart.com/en/unicode/U+25CF) and [snake body](https://www.compart.com/en/unicode/U+25A0) are from [Compart](https://www.compart.com/en/unicode).

To create live score during the game, code snippet from [DanyYax](https://github.com/DanyYax/MisionCodigoRepo/blob/b1a45cc590dcfe0f00b01516eb1f22ef58b752a2/Snake/snake.py) was used.

Knowledge about parts of the code were gathered from different sources.

| Knowledge about | Source |
| -------------------------- | --------------- |
| Clear screen | [Tutorialspoint](https://www.tutorialspoint.com/how-to-clear-python-shell) |
| Randint (in Random Module) | [Prepbytes](https://www.prepbytes.com/blog/python/python-random-module/) |
| Curses module | [Python](https://docs.python.org/3/howto/curses.html) |
| Using .format() | [Pyformat](https://pyformat.info/#string_pad_align) |
| Cursor package | [PyPi](https://pypi.org/project/cursor/) |
| RegEx Module | [W3Schools](https://www.w3schools.com/python/python_regex.asp) |
| Rich Package | [Real Python](https://realpython.com/python-rich-package/) <br> [Read the docs](https://rich.readthedocs.io/en/stable/index.html) |

## Acknowledgements

Big thanks to Matt Bodden for great coding support! Also a big thanks to Linus Wikell for testing the game during the development and thanks for the proofreading! 

[Back to top](#snake-game---python-edition)